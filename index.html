<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Notion Flip Clock Widget</title>
  <style>
    /* full-screen floral background */
    html, body {
      margin: 0;
      padding: 0;
      width: 100%;
      height: 100%;
      overflow: hidden;
      background: url('flower.jpg') center/cover no-repeat;
      font-family: Georgia, 'Times New Roman', Times, serif;
    }

    /* center the clock */
    .clock {
      position: absolute;
      top: 50%; left: 50%;
      transform: translate(-50%, -50%);
      display: flex;
      gap: 1rem;
    }

    /* each digit panel */
    .flip-panel {
      position: relative;
      width: 5rem;
      height: 7rem;
      perspective: 800px;
    }

    /* top & bottom halves */
    .flip-top,
    .flip-bottom {
      position: absolute;
      width: 100%;
      height: 50%;
      overflow: hidden;
      backface-visibility: hidden;
    }
    .flip-top {
      top: 0;
      transform-origin: bottom;
    }
    .flip-bottom {
      bottom: 0;
      transform-origin: top;
    }

    /* current + next faces */
    .flip-top .current,
    .flip-top .next,
    .flip-bottom .current,
    .flip-bottom .next {
      position: absolute;
      width: 100%;
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 3.5rem;
      color: #fff;
      background: transparent;
    }

    /* hidden starting positions */
    .flip-top .next {
      transform: rotateX(90deg);
    }
    .flip-bottom .next {
      transform: rotateX(-90deg);
    }

    /* fold animations */
    @keyframes foldDown {
      0%   { transform: rotateX(0deg); }
      100% { transform: rotateX(-90deg); }
    }
    @keyframes foldUp {
      0%   { transform: rotateX(90deg); }
      100% { transform: rotateX(0deg); }
    }

    /* trigger animations */
    .flip-panel.flipping .flip-top .current,
    .flip-panel.flipping .flip-top .next {
      animation: foldDown 0.3s ease-in forwards;
    }
    .flip-panel.flipping .flip-bottom .current,
    .flip-panel.flipping .flip-bottom .next {
      animation: foldUp 0.3s ease-out 0.3s forwards;
    }
  </style>
</head>
<body>
  <div class="clock">
    <div class="flip-panel" id="hours"></div>
    <div class="flip-panel" id="minutes"></div>
  </div>

  <script>
    function pad(n) {
      return String(n).padStart(2, '0');
    }

    // build the two faces for a panel
    function createFaces(panel, value) {
      panel.innerHTML = `
        <div class="flip-top">
          <div class="current">${value}</div>
          <div class="next">${value}</div>
        </div>
        <div class="flip-bottom">
          <div class="current">${value}</div>
          <div class="next">${value}</div>
        </div>`;
    }

    // animate to new value
    function updatePanel(panel, newVal) {
      const cur = panel.querySelector('.flip-top .current').textContent;
      if (cur === newVal) return;
      panel.querySelector('.flip-top .next').textContent = newVal;
      panel.querySelector('.flip-bottom .next').textContent = newVal;
      panel.classList.add('flipping');
      setTimeout(() => {
        createFaces(panel, newVal);
      }, 600);
    }

    // tick every second
    function tick() {
      const now = new Date();
      updatePanel(document.getElementById('hours'),   pad(now.getHours()));
      updatePanel(document.getElementById('minutes'), pad(now.getMinutes()));
    }

    // initial setup & start
    createFaces(document.getElementById('hours'),   '00');
    createFaces(document.getElementById('minutes'), '00');
    tick();
    setInterval(tick, 1000);
  </script>
</body>
</html>
